# 웹 서버, 웹 애플리케이션 서버

## 웹
웹은 HTTP 프로토콜위에서 동작을 하고 있는데, HTTP는 거의 모든  형태의 데이터를 전송할 수 있다.(HTML, TEXT, IMAGE, 음성, 영상, JSON, XML) 서버간에 데이터를 주고 받을 때도 HTTP를 사용한다.

## 웹 서버
HTTP를 기반으로 동작하며 정적 리소스를 제공하는 서버이다.(+기타 부가기능) 여기서 정적 리소스란 있는 그대로 제공하는 자원이라고 생각할 수 있다. 예를 들어 특정 디렉토리에 index.html이라는 피알을 두면 웹 서버는 그 파일을 단순히 서빙해주는 것이고 항상 동일한 페이지를 반환한다.

웹 서버의 예로는 NGINX, APACHE 등이 있다.

## 웹 애플리케이션 서버(WAS - Web Application Server)
HTTP를 기반으로 동작하며, 웹 서버의 기능을 포함하면서 프로그램의 코드를 실행해서 **애플리케이션의 로직**을 수행할 수 있는 기능을 가졌다. 애플리케이션의 로직을 수행할 수 있기 때문에 동적으로 HTML을 생성할 수 있다.

WAS의 예로는 톰캣(Tomcat), Jetty, Undertow 등이 있다.

## 웹 서버, WAS의 차이
웹 서버와 WAS의 가장 큰 차이는 웹 서버는 정적 리소스만 제공하는 것이지만, WAS는 애플리케이션 로직까지 실행할 수 있다는 것이다.

## 웹 시스템 구성
1. WAS로만
![](/img/WAS-architecture.png)
위의 그림과 같이 WAS, DB로만 시스템이 구성가능하다. 이때 WAS는 정적 리소스, 애플리케이션 로직 모두 제공이 가능하다. 하지만 WAS가 너무 많은 역할을 담당하고 있어 서버 과부하의 우려가 있다. 또한, 가장 비싼 값인 애플리케이션 로직이 정적 리소스 때문에 수행이 어려울 수 있다. 그리고 WAS가 장애시 오류 화면도 출력이 불가능하다.

2. 웹 서버, WAS
![](/img/web-was-architecture.png)
따라서 위의 그림과 같이 중간에 웹 서버를 두어 정적 리소스는 웹 서버가 처리하도록 둔다면 웹 서버는 애플리케이션 로직같은 동적인 처리가 필요할 경우 WAS에 요청을 위임할 수 있다. 그리고 WAS는 중요한 애플리케이션 로직만을 담당하게 할 수 있다. 또한, 효율적인 리소스 관리가 가능해지며 WAS, DB 장애시 WEB 서버가 오류화면을 제공할 수 있게 된다.

## 참고 자료
[스프링 MVC 1편 - 백엔드 웹 개발 핵심 기술](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-1/dashboard)