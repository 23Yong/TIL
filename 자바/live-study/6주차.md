# 상속

## 학습할 것
- 자바 상속의 특징
- super 키워드
- 메소드 오버라이딩
- 다이나믹 메소드 디스패치 (Dynamic Method Dispatch)
- 추상 클래스
- final 키워드
- Object 클래스

## 자바 상속의 특징
상속은 OOP의 중요한 특징 중 하나이다. 상속은 기존의 클래스를 재사용해서 새로운 클래스를 작성하는 것을 말해준다. 이미 잘 개발된 클래스를 이용해 새로운 클래스를 만들기 때문에 코드의 중복을 줄여준다. 

자바에서 상속을 구현하기 위해서는 `extends` 키워드를 사용한다.

```java
class Parent {

}
```
```java
class Child extends Parent {

}
```

위에서 얘기했듯이 여기서 새로운 클래스는 `Chlid`이고 기존의 클래스는 `Parent`이다. 프로그램에서 기존 클래스를 부모 클래스, 상위 클래스라고 하고, 새로운 클래스를 자식 클래스, 하위 클래스 라고 한다.

상속은 부모 클래스의 멤버들을 자식 클래스에게 물려줄 수 있다.
```java
class Parent {
    int field1;

    void method1() {}
}
```
```java
class Child extends Parent {
    String field2;

    void method2() {}
}
```
![](/img/Java_inheritance.png)

```java
Child child = new Child();
child.field1 = 10;
child.method1();

child.field2 = "hello";
child.method2();
```
자식 클래스가 실제로 Child 객체를 만들어 사용할 때는 마치 Child가 Parent의 field1과 method1()을 가지고 있는 것 처럼 보이게 된다.

### 주의할 점
상속을 하게 되더라도 주의할 점이 있는데 자식 클래스는 모든 메서드와 필드를 부모 클래스로부터 물려받지 않는다.
- 부모 클래스에서 `private` 키워드를 달고 있는 멤버들은 상속이 불가능하다.
- 부모 클래스와 자식 클래스가 다른 패키지에 존재한다면, `default` 접근 제한자를 갖는 멤버들도 상속이 불가능하다.
- 생성자와 초기화 블럭({})은 상속되지 않는다.

### 부모 생성자 호출
자식 클래스의 객체를 생성하게 되면 부모 객체가 먼저 생성되고, 자식 객체가 생성된다. 
![](/img/Java_Inheritance_parent.png)

자식 클래스의 객체를 생성자에서 생성하게 되면 부모 생성자는 자식 클래스의 맨 첫 줄에서 호출된다.
```java
class Child extends Parent {
    
    public Chlid() {
        super();
    }
}
```

자식 클래스의 생성자에서 부모 클래스의 생성자를 명시하지 않았다면 위와 같이 컴파일러가 기본 생성자를 호출하게 된다.
주의할 점은 명시적으로 호출하려면 `super()`은 반드시 자식 생성자 첫 줄에 위치해야 한다.

여기서 `super` 키워드는 자식 클래스가 부모 클래스를 참조하기 위한 참조변수이다. 

## super 키워드
위에서 봤듯이 `super`는 자식 클래스가 부모 클래스를 참조하기 위한 참조변수이다. 부모와 자식의 멤버를 구분하기 위해서 사용하는데, 이 점을 제외하고는 `this`와 비슷하다고 생각하면 된다.
그래서 `this`와 마찬가지로 `super`역시 부모의 인스턴스를 가리키기 떄문에 `static` 메서드에서 사용할 수 없고, 인스턴스 메서드에서만 사용할 수 있다.

### 부모 클래스의 멤버에 접근
```java
public class Parent {

    public int field1;

    public void method1() {
        System.out.println("Called Parent class");
    }
}
```
```java
public class Child extends Parent {
    
    public String field2;

    public void method2() {
        super.method1();
        System.out.println("Called Child class");
    }
}
```
```java
Child child = new Child();

child.method2();
```
```
Called Parent class
Called Child class
```

### 부모 클래스의 생성자 호출
```java
public class Parent {
    
    public int field1;
    
    public Parent() {
        System.out.println("Called Parent Constructor");
    }
}
```
```java
public class Child extends Parent {
    
    public int field2;

    public Child() {
        super();
        System.out.println("Called Child Constructor");
    }
}
```
```
Called Parent Constructor
Called Child Constructor
```

## 메서드 오버라이딩
자식 클래스에서 부모 클래스의 메서드를 그대로 사용하게 되면 좋겠지만, 어떤 메서드는 자식 클래스에 맞게 변형될 필요가 있다. 자바는 이런 경우를 위해서 메서드 오버라이딩(Overriding) 기능을 제공한다.

상속에서 메서드 오버라이딩은 자식 클래스에서 부모 클래스에 있는 메서드를 재정의하는 것을 말한다. 메서드가 오버라이딩 되었다면 부모 클래스에 있는 메서드는 자식에서 재정의한 메서드에 의해 가려지게 되고 자식 객체에서 메서드를 호출하게 되면 오버라이딩한 메서드가 호출되게 된다.

```java
public class Parent {
    public void method1() {}
    public void method2() {
        System.out.println("Parent method");
    }
}
```
```java
public class Child extends Parent {
    @Override
    public void method2() {
        System.out.println("Child method");
    }
    public void method3() {}
}
```
```java
Chlid child = new Child();
child.method2();
```
```
Child method
```

다음과 같이 메서드를 오버라이딩 할 때에는 부모의 메서드와 동일한 시그니처(리턴 타입, 메서드 이름, 매개변수 목록)를 가져야 하는 것을 기억하자.

## 다이나믹 메서드 디스패치

