# 상태코드
클라이언트가 보낸 요청의 처리 상테를 응답에서 알려주는 기능
- 1xx (Informational) : 요청이 수신되어 처리중
- 2xx (Successful) : 요청이 정상 처리
- 3xx (Redirection) : 요청을 완료하려면 추가 행동이 필요
- 4xx (Client Error) : 클라이언트 오류, 잘못된 문법 등으로 서버가 요청을 수행할 수 없음
- 5xx (Server Error) : 서버 오류, 서버가 정상 요청을 처리하지 못함

## 2xx - 성공
클라이언트의 요청을 성공적으로 처리
- 200 OK
    - 서버가 요청을 제대로 처리
- 201 Created
    - 성공적으로 요청되었으며, 서버가 새 리소스를 작성했다.
- 202 Accepted
    - 서버가 요청을 접수는 했지만, 처리는 하지 않았다.
    - 배치 처리 같은 곳에서 사용한다.
- 204 No content
    - 서버가 요청을 성공적으로 처리했지만, 콘텐츠를 제공하지 않는다.
    - ex. 웹 문서 편집기에서의 save 버튼
        - save 버튼의 결과로 아무 내용이 없어도 된다.
        - save 버튼을 눌러도 같은 화면을 유지해야 한다.
        - 결과 내용이 없어도 204메시지 만으로 성공을 인식할 수 있다.

## 3xx - 리다이렉션
요청을 완료하기 위해 클라이언트 프로그램의 추가 조치 필요
- 301 Multiple Choices
    - 요청한 페이지를 새 위치로 영구적으로 이동
- 302 Found
    - 현재 서버가 다른 위치의 페이지로 요청에 응답하고 있지만, 요청자는 향후 요청 시 원래 위치를 계속 사용해야 한다.

웹 브라우저는 3xx 응답의 결과에 Location 헤더가 있으면, Location 헤더로 자동 이동한다.

- ex
    - /hello라는 url을 /hello-world로 변경하고 싶다고 했을 때, 사용자가 /hello를 검색하면 서버는 301응답코드와 함께 Location헤더로 /hello-world를 설정한다.
    - 이를 받은 클라이언트는 자동으로 /hello를 /hello-world로 리다이렉트한다.
    - 요청메시지로 GET /hello-event ... 메시지를 보내고 서버는 응답을 진행한다.

## 리다이렉션 종류
- 영구 리다이렉션 : 특정 리소스의 URI가 영구적으로 이동
- 일시 리다이렉션 : 일시적인 변경
    - PRG(Post/Redirect/Get)
- 특수 리다이렉션 : 결과 대신 캐시를 사용

### 영구 리다이렉션
301, 308
- 리소스의 URI가 영구적으로 이동한다.
- 원래의 URL을 사용하지 않고, 검색 엔진 등에서도 변경을 인지한다.
- 301 Moved Permanently
    - 리다이렉트 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있다.
- 308 Permanent Redirect
    - 리다이렉트 요청 메서드와 본문을 유지한다. (처음 POST를 보내면 리다이렉트도 POST 유지)

### 일시 리다이렉션
302, 303, 307 
- 리소스의 URI가 일시적으로 변경된다. 따라서 검색 엔진 등에서 URL을 변경하면 안된다.
- 302 Found
    - 리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있다. (대부분 GET으로 바꾸지만 명확히 바꾼다고 되어 있지는 않다..)
- 303 See Other
    - 302와 기능은 같다.
    - 리다이렉트시 요청 메서드가 GET으로 변경(명확히 GET으로 바꾼다.)
- 307 Temporary Redirect
    - 302와 기능은 같다.
    - 리다이렉트시 요청 메서드와 본문 유지(요청 메서드를 변경하면 안된다.)


### PRG(Post, Redirect, Get)
HTTP POST 요청의 응답이 또 다른 URL의 리다이렉션을 유도하고, GET 요청을 위한 것이어야 한다.

PRG를 사용하지 않으면 POST로 주문 후 새로 고침으로 중복 주문이 발생할 수 있다. 그렇기에 POST주문후에 주문 결과 화면을 GET 메서드로 리다이렉트한다. 이때 새로고침해도 결과 화면을 GET으로 조회하기 때문에 중복 주문이 발생하지 않는다.

## 4xx - 클라이언트 오류
- 클라이언트의 요청에 잘못된 문법등으로 서버가 요청을 수행할 수 없다.
- 오류의 원인이 클라이언트에게 있다.
- 클라이언트가 이미 잘못된 요청, 데이터를 보내고 있기 때문에 똑같은 재시도를 해도 계속 실패한다.

### 401 Unauthorized
클라이언트가 해당 리소스에 대한 인증이 필요한 상태
- 인증(Authentication)되지 않은 상태이다.
- 401 오류 응답에 WWW-Authenticate헤더와 함께 인증 방법을 설명한다.

### 403 Forbidden
서버가 요청을 이해했지만, 승인을 거부하는 상태
- 인증 자격 증명은 있지만, 접근 권한이 불충분한 경우이다.
- 401은 인증실패, 403은 인가실패라고 생각할 수 있다.

### 404 Not Found
요청 리소스를 찾을 수 없는 상태
- 요청 리소스가 서버에 없다. 혹은 클라이언트가 권한이 부족한 리소스에 접근할 때 해당 리소스를 숨기고 싶을 때 사용한다.

## 5xx - 서버 오류
서버문제로 오류가 발생한 상태이다. 서버에 문제가 있기 때문에 DB가 복구되는 경우를 생각하면, 재시도시 성공으로 바뀔 수 있다.

### 500 Internal Server Error
서버 문제로 오류가 발생한 상태이다.
- 서버 내부 문제로 오류 발생

### 501 Service Unavailable
서비스가 이용 불가능한 상태이다.
- 서버가 일시적인 과부하 또는 예정된 작업으로 잠시 요청처리를 할 수 없다.

## 참고자료
[모든 개발자를 위한 HTTP웹 기본 지식](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/dashboard)